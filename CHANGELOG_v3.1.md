# QL Trading v3.1 โ ุณุฌู ุงูุชุนุฏููุงุช

## ูุธุงู ุงูุตููุงุช ุงูุฌูุงุนูุฉ (Mass Trades) โ ุชุญุฏูุซ ุดุงูู

### ููู ูุนูู ุงููุธุงู ุงูุฌุฏูุฏ

**ุงูุฏูุฑุฉ ุงูููููุฉ:**

| ุงูููุช | ุงูุตููุฉ | ุงูุญุงูุฉ ุงูุฃูููุฉ |
|-------|--------|---------------|
| 2:00 ุธูุฑุงู | ุตููุฉ ุงูุธูุฑ | ูุนูููุฉ (pending) |
| 6:00 ูุณุงุกู | ุตููุฉ ุงููุณุงุก | ูุนูููุฉ (pending) |
| 9:30 ูููุงู | ุตููุฉ ุงูููู | ูุนูููุฉ (pending) |

**ูุฑุงุญู ุงูุตููุฉ:**

1. **ุฅูุดุงุก ุชููุงุฆู**: ูููู ุงููุธุงู ุจุฅูุดุงุก 3 ุตููุงุช ููููุงู ุชููุงุฆูุงู ุนูุฏ ุจุฏุก ุงูุชุดุบูู
2. **ูุนูููุฉ (Pending)**: ุงูุตููุฉ ุชูุชุธุฑ ููู (ุงูุฃุฏูู) ุฅุถุงูุฉ ูุณุจุฉ ุงูุฃุฑุจุงุญ ุฃู ุงูุฎุณุงุฑุฉ
3. **ุชูุนูู**: ุนูุฏ ุฅุถุงูุฉ ุงููุณุจุฉุ ูุชู:
   - ุฅูุดุงุก ุตููุฉ ุญูุฉ ููู ูุณุชุฎุฏู ูุดุท (ุฑุตูุฏ > 0)
   - ุฅุฑุณุงู ุฅุดุนุงุฑ ุชูุบุฑุงู ููู ูุณุชุฎุฏู: "ุงูุจูุช ุฏุฎู ุตููุฉ โ ููููู ุงููุฑุงูุจุฉ ูู ุตููุงุชู"
   - ุนุฑุถ ุญุฑูุฉ ุฃุณุนุงุฑ ุญูุฉ (ููุณ ูุธุงู open ุงูุญุงูู)
4. **ููุชูุญุฉ ููุฏุฉ ุณุงุนุฉ**: ุงูุตููุฉ ุชุจูู ููุชูุญุฉ ุณุงุนุฉ ูุงููุฉ ูุน ุชุญุฏูุซ ุงูุฃุณุนุงุฑ ูู 3 ุซูุงูู
5. **ุฅุบูุงู ุชููุงุฆู**: ุจุนุฏ ุณุงุนุฉ ูุชู ุฅุบูุงู ุงูุตููุฉ ูุชุญุฏูุซ ุงูุฃุฑุตุฏุฉ ูุฅุฑุณุงู ุฅุดุนุงุฑ

---

### ููุญุฉ ุงูุฃุฏูู โ ุชุจููุจ "ุตููุงุช ุฌูุงุนูุฉ"

**ุตููุงุช ุงูููู ุงููุฌุฏููุฉ:**
- 3 ุจุทุงูุงุช ููููุฉ ุชุนุฑุถ ุตููุงุช ุงูููู (ุธูุฑุ ูุณุงุกุ ููู)
- ูู ุจุทุงูุฉ ุชุนุฑุถ: ุงูููุชุ ุงูุฑูุฒุ ุงูุงุชุฌุงูุ ุงูุญุงูุฉุ ุนุฏุฏ ุงููุดุงุฑููู
- ุฒุฑ "ุชูุนูู" ููุตููุงุช ุงููุนูููุฉ โ ูุทูุจ ููู ุฅุฏุฎุงู ุงููุณุจุฉ
- ุฒุฑ "ุฅุฏุงุฑุฉ" ููุตููุงุช ุงูููุชูุญุฉ โ ูุนุฑุถ ุตููุงุช ุงููุณุชุฎุฏููู ุงูุญูุฉ
- ุฒุฑ "ุฅูุดุงุก ุตููุงุช ุงูููู" ุฅุฐุง ูู ุชููุดุฃ ุชููุงุฆูุงู

**ูุชุญ ุตููุฉ ุฌูุงุนูุฉ ูุฏููุฉ:**
- ุงุฎุชูุงุฑ ุงูุฑูุฒ (XAUUSD, BTCUSDT, ETHUSDT)
- ุงุฎุชูุงุฑ ุงูุงุชุฌุงู (BUY/SELL)
- ุฅุถุงูุฉ ููุงุญุธุฉ ุงุฎุชูุงุฑูุฉ

**ูุณุชุฎุฏููู ุจุตููุงุช ุฅุถุงููุฉ:**
- ุฅุถุงูุฉ ูุณุชุฎุฏู ุจู User ID
- ุชุญุฏูุฏ ุนุฏุฏ ุงูุตููุงุช ุงูุฅุถุงููุฉ ููููุงู
- ุญุฐู ูุณุชุฎุฏู ูู ุงููุงุฆูุฉ

**ูุงูุฐุฉ ุชูุนูู/ุฅุฏุงุฑุฉ ุงูุตููุฉ:**
- **ูููุนูููุฉ**: ุฅุฏุฎุงู ุงููุณุจุฉ โ ุชูุนูู ูุฅุฑุณุงู ููุฌููุน
- **ููููุชูุญุฉ**: ุนุฑุถ ุตููุงุช ุงููุณุชุฎุฏููู ุงูุญูุฉ + ุฅุบูุงู ููุฑู
- **ูุณุจุฉ ูุฎุตุตุฉ**: ุชุนููู ูุณุจุฉ ูุฎุชููุฉ ููุณุชุฎุฏู ูุญุฏุฏ
- **ุฅุบูุงู ููุฑู (ูุฏูู)**: ุชุทุจูู ุงููุณุจุฉ ูุจุงุดุฑุฉ ุจุฏูู ูุชุญ ุตููุงุช ุญูุฉ

---

### ูุงุฌูุฉ ุงููุณุชุฎุฏู

**ูู ุชุจููุจ "ุตููุงุชู":**
- ุงูุตููุงุช ุงูุฌูุงุนูุฉ ุชุธูุฑ ุจุนูุงูุฉ "๐ค ุตููุฉ ุงูุจูุช" / "๐ค Bot Trade"
- ุญุฑูุฉ ุฃุณุนุงุฑ ุญูุฉ ูุน ุดุฑูุท ุชูุฏู ูููู
- ูุง ูููู ูููุณุชุฎุฏู ุฅุบูุงู ุตููุงุช ุงูุจูุช ูุฏููุงู (ุฒุฑ ุงูุฅุบูุงู ูุฎูู)
- ุนุฏุงุฏ ุชูุงุฒูู ููููุช ุงููุชุจูู

**ุฅุดุนุงุฑุงุช ุชูุบุฑุงู:**
- ุนูุฏ ูุชุญ ุงูุตููุฉ: "๐ค ุงูุจูุช ุฏุฎู ุตููุฉ ุฌุฏูุฏุฉ โ ููููู ุงููุฑุงูุจุฉ ูู ุตููุงุชู"
- ุนูุฏ ุฅุบูุงู ุงูุตููุฉ: "๐ ุชู ุฅุบูุงู ุงูุตููุฉ โ ุฑุจุญ/ุฎุณุงุฑุฉ + ุงูุฑุตูุฏ ุงูุฌุฏูุฏ"

---

### ุฅุตูุงุญ ูุบุฉ ุงูุฏุนูุฉ (Invite)

| ุงูุนูุตุฑ | ูุจู | ุจุนุฏ |
|--------|-----|-----|
| ุชุจููุจ ุงูุฏุนูุฉ | ูุต ุนุฑุจู ุซุงุจุช | ูุชุบูุฑ ุญุณุจ ุงููุบุฉ ุงููุฎุชุงุฑุฉ |
| ุนููุงู ุงูุตูุญุฉ | "ุงุนููู ุฏุนูุฉ \| Invite Friends" | data-i18n="inviteTitle" |
| ุฒุฑ ุงููุณุฎ | "ูุณุฎ ุงูุฑุงุจุท \| Copy Link" | data-i18n="copyLink" |
| ุฒุฑ ุงููุดุงุฑูุฉ | "ูุดุงุฑูุฉ \| Share" | data-i18n="share" |
| ูุต ุงููุดุงุฑูุฉ | ุนุฑุจู ููุท | ูุชุบูุฑ ุญุณุจ ุงููุบุฉ |
| ูุงุฆูุฉ ุงูุฏุนูุงุช | "ุจุงูุชุธุงุฑ ุงูุฅูุฏุงุน" ุซุงุจุช | data-i18n="waitingDeposit" |

**ุงููุบุงุช ุงููุฏุนููุฉ:** ุงูุนุฑุจูุฉุ ุงูุฅูุฌููุฒูุฉุ ุงูุชุฑููุฉุ ุงูุฃููุงููุฉ

---

### ููู ุงูุชุฑุญูู (Migration)

**ูุฌุจ ุชุดุบูู `db_migration_v3.1.sql` ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุจู ุงูุชุดุบูู:**

```bash
psql -U your_user -d your_db -f db_migration_v3.1.sql
```

**ุงูุฌุฏุงูู ุงูุฌุฏูุฏุฉ:**
- `mass_trade_user_trades` โ ุตููุงุช ุงููุณุชุฎุฏููู ุงูุญูุฉ
- `mass_trade_extra_users` โ ูุณุชุฎุฏููู ุจุตููุงุช ุฅุถุงููุฉ

**ุงูุฃุนูุฏุฉ ุงูุฌุฏูุฏุฉ ูู `mass_trades`:**
- `scheduled_time` โ ููุช ุงูุฌุฏููุฉ
- `scheduled_date` โ ุชุงุฑูุฎ ุงูุฌุฏููุฉ
- `duration_seconds` โ ูุฏุฉ ุงูุตููุฉ (ุงูุชุฑุงุถู 3600)
- `entry_price` โ ุณุนุฑ ุงูุฏุฎูู
- `is_scheduled` โ ูู ุฃููุดุฆุช ุชููุงุฆูุงู
- `activated_at` โ ููุช ุงูุชูุนูู

---

### ุงููููุงุช ุงููุนุฏููุฉ

| ุงูููู | ุงูุชุนุฏูู |
|-------|---------|
| `server/controllers/admin.controller.js` | endpoints ุฌุฏูุฏุฉ: activate, today, create-daily, extra-users |
| `server/routes/admin.routes.js` | routes ุฌุฏูุฏุฉ ูุฌููุน ุงูู endpoints |
| `server/services/tradingEngine.js` | ูุญุฑู ุชุญุฏูุซ ุตููุงุช ุงููุณุชุฎุฏููู + ุฌุฏููุฉ ููููุฉ |
| `server/controllers/trades.controller.js` | ุฏูุฌ mass_trade_user_trades ูุน ุงูุตููุงุช ุงูุนุงุฏูุฉ |
| `client/admin.html` | ูุงุฌูุฉ ุฃุฏูู ุฌุฏูุฏุฉ ุจุงููุงูู ูุชุจููุจ ุงูุตููุงุช ุงูุฌูุงุนูุฉ |
| `client/admin.js` | ููุทู ุงูุฃุฏูู ุงูุฌุฏูุฏ: ุชูุนููุ ุฅุบูุงูุ ุฅุฏุงุฑุฉ |
| `client/admin.css` | ุฃููุงุท ุฌุฏูุฏุฉ ูุจุทุงูุงุช ุงูููู ูุงูููุงูุฐ |
| `client/app.js` | ุนุฑุถ ุตููุงุช ุงูุจูุช + i18n ููุฏุนูุฉ |
| `client/index.html` | data-i18n ูุชุจููุจ ุงูุฏุนูุฉ |
| `db_migration_v3.1.sql` | ููู ุชุฑุญูู ูุงุนุฏุฉ ุงูุจูุงูุงุช |
