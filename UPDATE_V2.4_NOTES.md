# QL Trading AI v2.4 - ملخص التحديثات

## التغييرات المنفذة

### 1. نظام التحكم بالسحب (جديد)
تم إضافة نظام كامل للتحكم بعمليات السحب من خلال أوامر البوت:

| الأمر | الوظيفة |
|-------|---------|
| `/stopwithdraw` | إيقاف السحب مؤقتاً (للصيانة) |
| `/startwithdraw` | تشغيل السحب مرة أخرى |
| `/withdrawstatus` | عرض حالة السحب الحالية |

**عند إيقاف السحب:**
- جميع طلبات السحب الجديدة ستُرفض تلقائياً
- الرسالة للمستخدمين: "تم توقيف السحب مؤقتاً بسبب الصيانة"

### 2. تحسين الألوان والتصميم
- تم تغيير نظام الألوان من البنفسجي إلى الأزرق الاحترافي
- ألوان جديدة:
  - اللون الرئيسي: `#0066ff` (أزرق)
  - اللون الثانوي: `#00d4ff` (سماوي)
  - الخلفية: `#0a0e1a` (أزرق داكن)
- تحسين التأثيرات البصرية والظلال
- تحسين التفاعل مع الأزرار (hover effects)

### 3. تحسين صفحة الإعدادات
- إضافة لوجو XM Trading الرسمي
- تحسين تصميم قسم الوسيط (Broker)
- إضافة قسم "Account Status" جديد
- إضافة معلومات الإصدار في الأسفل
- تحسين التنسيق العام

### 4. الملفات المعدلة
1. `server/controllers/wallet.controller.js` - إضافة التحقق من حالة السحب
2. `server/bot/bot.js` - إضافة أوامر التحكم بالسحب
3. `client/style.css` - تحديث الألوان والتصميم
4. `client/index.html` - تحسين صفحة الإعدادات
5. `client/xm-logo.png` - إضافة لوجو XM (جديد)

---

## أوامر الأدمن الكاملة

### إدارة المستخدمين
```
/addbalance <tg_id> <amount> - إضافة/خصم رصيد
/silentadd <tg_id> <amount> - إضافة صامتة (بدون إشعار)
/removebalance <tg_id> <amount> - خصم صامت
/zerobalance <tg_id> - تصفير الرصيد
/setmoney <tg_id> <amount> - إيداع نقل حساب
/setstats <tg_id> <wins> <losses> - تعيين إحصائيات
/resetstats <tg_id> - تصفير الإحصائيات
/create_key <KEY> <DAYS> - إنشاء مفتاح اشتراك
```

### عمليات التداول
```
/open <tg_id> <hours> <target> - فتح صفقة ذكية
/close_trade <trade_id> <pnl> - إغلاق صفقة
/setdaily <tg_id> <amount> - تعيين هدف يومي
```

### السحب
```
/approve_withdraw <id> - الموافقة على طلب سحب
/reject_withdraw <id> <reason> - رفض طلب سحب
/stopwithdraw - إيقاف السحب (صيانة)
/startwithdraw - تشغيل السحب
/withdrawstatus - حالة السحب
```

### التواصل
```
/broadcast all <message> - إرسال للجميع
/notify <tg_id> <message> - إرسال رسالة خاصة
```

---

## ملاحظات مهمة

1. **السحب مفعّل افتراضياً** - لا حاجة لتشغيله إلا إذا تم إيقافه مسبقاً
2. **التغييرات تحتاج إعادة نشر** - يجب إعادة نشر التطبيق على Render لتفعيل التغييرات
3. **قاعدة البيانات** - لا حاجة لتعديل قاعدة البيانات، الإعدادات موجودة في جدول `settings`

---

تاريخ التحديث: 4 فبراير 2026
