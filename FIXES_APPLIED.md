# ุฅุตูุงุญุงุช ุชู ุชุทุจูููุง - QL Trading AI

## ุงูุชุงุฑูุฎ: 2025-12-03

---

## โ ุงููุดุงูู ุงูุชู ุชู ุฅุตูุงุญูุง

### 1. ูุดููุฉ ุนุฏู ุชุญุฏูุซ ุงูุฑุตูุฏ ูุจุงุดุฑุฉ โก

**ุงููุดููุฉ:**
- ุนูุฏ ูุชุญ ุตููุฉ ุฌุฏูุฏุฉ ุจูุงุณุทุฉ `/open`ุ ุงูุฑุตูุฏ ูุง ูุชุญุฏุซ ูู ุงููุงุฌูุฉ ุฅูุง ุจุนุฏ ุงูุฎุฑูุฌ ูุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู

**ุงูุญู ุงููุทุจู:**
```javascript
// ุฅุถุงูุฉ ูุธุงู Auto-Refresh ูู app.js
function startAutoRefresh(){
  if(state.refreshTimer) clearInterval(state.refreshTimer);
  
  state.refreshTimer = setInterval(async ()=>{
    await refreshUser();      // ุชุญุฏูุซ ุงูุฑุตูุฏ
    await loadTrades();       // ุชุญุฏูุซ ุงูุตููุงุช
    await refreshOps();       // ุชุญุฏูุซ ุงูุนูููุงุช
  }, 3000); // ูู 3 ุซูุงู
}
```

**ุงููุชูุฌุฉ:**
- โ ุงูุฑุตูุฏ ูุชุญุฏุซ ุชููุงุฆูุงู ูู 3 ุซูุงู
- โ ุงูุตููุงุช ุชุธูุฑ ููุฑุงู ูู ูุงุฆูุฉ "My Trades"
- โ PnL (ุงูุฑุจุญ/ุงูุฎุณุงุฑุฉ) ูุชุญุฏุซ ูู ุงูููุช ุงููุนูู

---

### 2. ูุดููุฉ `/setdaily` ุชุธูุฑ ูุตููุฉ ูุงุจูุฉ ููุฅุบูุงู ๐ซ

**ุงููุดููุฉ:**
- ุนูุฏ ุงุณุชุฎุฏุงู ุฃูุฑ `/setdaily` ูุชุญุฏูุฏ ูุฏู ุฑุจุญ ูููู ุชุฏุฑูุฌูุ ูุงู ูุธูุฑ ูู ูุงุฆูุฉ "My Trades" ููุฃูู ุตููุฉ ุนุงุฏูุฉ
- ุงููุณุชุฎุฏู ูุณุชุทูุน ุฅุบูุงููุง ูุฏููุงู (ููุฐุง ุฎุทุฃ)

**ุงูุญู ุงููุทุจู:**
```javascript
// ุชุญุณูู loadTrades() ูุนุฑุถ ุงูุตููุงุช ุงูุญููููุฉ ููุท
async function loadTrades(){
  const r = await fetch(`/api/trades/${tg}`).then(r=>r.json());
  
  if(r.ok && r.trades && r.trades.length > 0){
    // ุนุฑุถ ุงูุตููุงุช ุงูุญููููุฉ ููุท ูู ุฌุฏูู trades
    r.trades.forEach(trade=>{
      // ุนุฑุถ ุงูุชูุงุตูู: Symbol, Direction, Lot Size, PnL
    });
  }
}
```

**ุงูุชูุถูุญ:**
- `/setdaily` ูุนูู ูู ุงูุฎูููุฉ ุนุจุฑ ุฌุฏูู `daily_targets`
- ูุง ูุชู ุฅูุดุงุก ุตููุฉ ูู ุฌุฏูู `trades`
- ููุท ุงูุตููุงุช ุงูููุชูุญุฉ ุจู `/open` ุชุธูุฑ ูู "My Trades"

**ุงููุชูุฌุฉ:**
- โ `/setdaily` ูุนูู ุจุตูุช ูู ุงูุฎูููุฉ
- โ ููุท ุงูุตููุงุช ุงูุญููููุฉ (ูู `/open`) ุชุธูุฑ ูู ุงููุงุฆูุฉ
- โ ุงููุณุชุฎุฏู ูุง ูุณุชุทูุน ุฅุบูุงู ุฃูุฏุงู ููููุฉ

---

### 3. ุชุญุณูู ุฒุฑ ุชุบููุฑ ุงููุบุฉ ๐

**ุงููุดููุฉ ุงููุฏููุฉ:**
- ุฒุฑ ุงููุบุฉ ูุงู ูุจุฏู ุจูู ุงููุบุงุช ุจุดูู ุฏุงุฆุฑู (EN โ AR โ TR โ DE โ EN)
- ุงููุณุชุฎุฏู ูุง ูุนุฑู ูุง ูู ุงููุบุฉ ุงูุชุงููุฉ
- ุตุนุจ ุงููุตูู ููุบุฉ ูุนููุฉ ูุจุงุดุฑุฉ

**ุงูุญู ุงููุทุจู:**
```javascript
// ูุงุฆูุฉ ููุณุฏูุฉ ุจุฏูุงู ูู ุงูุชุจุฏูู ุงูุฏุงุฆุฑู
$("#btnLang").addEventListener("click", ()=>{
  const langSheet = document.createElement("div");
  langSheet.className = "sheet show";
  langSheet.innerHTML = `
    <div class="s-title">${t('selectLanguage')}</div>
    <button class="s-item" data-lang="en">๐ฌ๐ง English</button>
    <button class="s-item" data-lang="ar">๐ธ๐ฆ ุงูุนุฑุจูุฉ</button>
    <button class="s-item" data-lang="tr">๐น๐ท Tรผrkรงe</button>
    <button class="s-item" data-lang="de">๐ฉ๐ช Deutsch</button>
    <button class="s-cancel">${t('cancel')}</button>
  `;
  
  // ุนูุฏ ุงุฎุชูุงุฑ ูุบุฉ
  langSheet.querySelectorAll(".s-item").forEach(btn=>{
    btn.addEventListener("click", ()=>{
      state.lang = btn.dataset.lang;
      localStorage.setItem("lang", state.lang);
      applyI18n();
      langSheet.classList.remove("show");
    });
  });
});
```

**ุงููุชูุฌุฉ:**
- โ ูุงุฆูุฉ ูุงุถุญุฉ ุจุฌููุน ุงููุบุงุช ุงููุชุงุญุฉ
- โ ุฃุนูุงู ุงูุฏูู ูุณูููุฉ ุงูุชุนุฑู
- โ ุชุบููุฑ ููุฑู ุนูุฏ ุงูุงุฎุชูุงุฑ
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู ุจูุซูุฑ

---

### 4. ุชุญุณูู Trading Engine โ๏ธ

**ุงูุชุญุณููุงุช ุงููุทุจูุฉ:**

```javascript
// ุชุณุฑูุน ุงูุชุญุฏูุซุงุช ูู 5 ุซูุงู ุฅูู 3 ุซูุงู
setInterval(updateTrades, 3000);
setInterval(updateDailyTargets, 3000);
```

**ุงูููุงุฆุฏ:**
- โก ุงุณุชุฌุงุจุฉ ุฃุณุฑุน ููุชุบููุฑุงุช
- ๐ PnL ูุชุญุฏุซ ุจุดูู ุฃูุซุฑ ุณูุงุณุฉ
- ๐ฏ ุฃูุฏุงู ููููุฉ ุชุชุญุฏุซ ุจุดูู ุฃูุซุฑ ูุงูุนูุฉ

---

### 5. ุฅุตูุงุญ ุญุณุงุจ ุงูุฎุณุงุฑุฉ ูู Trading Engine ๐ง

**ุงููุดููุฉ:**
```javascript
// ุงูููุฏ ุงููุฏูู - ุฎุทุฃ ูู ุญุณุงุจ ุงูุฎุณุงุฑุฉ
await query(
  "UPDATE users SET losses = losses + $1 WHERE id = $2",
  [Math.abs(pnl), trade.user_id]
);
// ููุง ูู ูุชู ุฎุตู ุงูุฎุณุงุฑุฉ ูู ุงูุฑุตูุฏ!
```

**ุงูุญู:**
```javascript
// ุงูููุฏ ุงูุฌุฏูุฏ - ุตุญูุญ
if (pnl >= 0) {
  await query(
    "UPDATE users SET balance = balance + $1, wins = wins + $1 WHERE id = $2",
    [pnl, trade.user_id]
  );
} else {
  await query(
    "UPDATE users SET balance = balance - $1, losses = losses + $1 WHERE id = $2",
    [Math.abs(pnl), trade.user_id]
  );
}
```

**ุงููุชูุฌุฉ:**
- โ ุงูุฎุณุงุฆุฑ ุชูุฎุตู ูู ุงูุฑุตูุฏ ุจุดูู ุตุญูุญ
- โ ุงูุฃุฑุจุงุญ ุชูุถุงู ุจุดูู ุตุญูุญ
- โ ุญุณุงุจุงุช ุฏูููุฉ 100%

---

## ๐ ููุฎุต ุงูุชุญุณููุงุช

### ุงูุฃุฏุงุก:
- โก Auto-refresh ูู 3 ุซูุงู
- โก Trading engine ูุนูู ูู 3 ุซูุงู (ุจุฏูุงู ูู 5)
- โก ุชุญุฏูุซุงุช ููุฑูุฉ ููุฑุตูุฏ ูุงูุตููุงุช

### ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู:
- ๐ ูุงุฆูุฉ ูุบุงุช ูุงุถุญุฉ ููุฑุฆูุฉ
- ๐ ุนุฑุถ ุตููุงุช ุญููููุฉ ููุท
- ๐ฏ ุฃูุฏุงู ููููุฉ ุชุนูู ูู ุงูุฎูููุฉ ุจุตูุช

### ุงูุฏูุฉ:
- โ ุญุณุงุจุงุช PnL ุตุญูุญุฉ
- โ ุฎุตู ุงูุฎุณุงุฆุฑ ุจุดูู ุตุญูุญ
- โ ูุตู ูุงุถุญ ุจูู ุงูุตููุงุช ูุงูุฃูุฏุงู ุงูููููุฉ

---

## ๐ฏ ููููุฉ ุงูุงุณุชุฎุฏุงู ุจุนุฏ ุงูุฅุตูุงุญุงุช

### ููุฃุฏูู:

1. **ูุชุญ ุตููุฉ:**
```
/open 123456789 XAUUSD BUY 0.01
```
- โ ุงูุตููุฉ ุชุธูุฑ ููุฑุงู ูู "My Trades"
- โ ุงูุฑุตูุฏ ูุชุญุฏุซ ุชููุงุฆูุงู
- โ PnL ูุชุญุฏุซ ูู 3 ุซูุงู

2. **ุชุญุฏูุฏ ูุฏู ูููู:**
```
/setdaily 123456789 50 1800
```
- โ ูุนูู ูู ุงูุฎูููุฉ
- โ ูุง ูุธูุฑ ูู ูุงุฆูุฉ ุงูุตููุงุช
- โ ุงูุฑุตูุฏ ูุฒูุฏ ุชุฏุฑูุฌูุงู

3. **ุฅุบูุงู ุตููุฉ:**
```
/close 123 25.50
```
- โ ุงูุตููุฉ ุชูุบูู ููุฑุงู
- โ ุงูุฑุตูุฏ ูุชุญุฏุซ ูุจุงุดุฑุฉ
- โ ุชุธูุฑ ูู ุงูุณุฌู

### ูููุณุชุฎุฏู:

1. **ุชุบููุฑ ุงููุบุฉ:**
- ุงุถุบุท ุนูู ๐
- ุงุฎุชุฑ ุงููุบุฉ ูู ุงููุงุฆูุฉ
- ุงูุชุบููุฑ ููุฑู

2. **ูุชุงุจุนุฉ ุงูุตููุงุช:**
- ุงูุชูู ุฅูู ุชุจููุจ "Trades"
- ุดุงูุฏ ุฌููุน ุงูุตููุงุช ุงูููุชูุญุฉ
- PnL ูุชุญุฏุซ ุชููุงุฆูุงู

3. **ูุชุงุจุนุฉ ุงูุฑุตูุฏ:**
- ุงูุฑุตูุฏ ูุชุญุฏุซ ูู 3 ุซูุงู
- ูุง ุญุงุฌุฉ ูุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ
- ูู ุดูุก ุชููุงุฆู

---

## ๐ ุงูุชุญุฏูุซุงุช ุงูุชููุงุฆูุฉ

ุงููุธุงู ุงูุขู ูููู ุจู:
- โ ุชุญุฏูุซ ุงูุฑุตูุฏ ูู 3 ุซูุงู
- โ ุชุญุฏูุซ ุงูุตููุงุช ูู 3 ุซูุงู
- โ ุชุญุฏูุซ ุงูุนูููุงุช ูู 3 ุซูุงู
- โ ุชุญุฏูุซ PnL ูู ุงูููุช ุงููุนูู
- โ ุชุญุฏูุซ ุฃุณุนุงุฑ ุงูุณูู

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **Auto-Refresh:**
   - ูุนูู ููุท ุนูุฏูุง ูููู ุงูุชุทุจูู ููุชูุญ
   - ูุชููู ุนูุฏ ุฅุบูุงู ุงูุชุทุจูู (ูุชูููุฑ ุงูููุงุฑุฏ)
   - ูุจุฏุฃ ุชููุงุฆูุงู ุนูุฏ ูุชุญ ุงูุชุทุจูู

2. **Daily Targets:**
   - ูุง ุชุธูุฑ ูู ูุงุฆูุฉ ุงูุตููุงุช
   - ุชุนูู ูู ุงูุฎูููุฉ ุจุตูุช
   - ุชูุญุฏุซ ุงูุฑุตูุฏ ุชุฏุฑูุฌูุงู

3. **Language Selector:**
   - ูุญูุธ ุงูุงุฎุชูุงุฑ ูู localStorage
   - ูุทุจู ุงูุชุบููุฑ ููุฑุงู
   - ูุฏุนู RTL ููุนุฑุจูุฉ

---

## โ ุงูุงุฎุชุจุงุฑ

ููุชุฃูุฏ ูู ุฃู ูู ุดูุก ูุนูู:

1. **ุงุฎุชุจุงุฑ ูุชุญ ุตููุฉ:**
```bash
# ุงูุชุญ ุตููุฉ ูู ุงูุจูุช
/open YOUR_TG_ID XAUUSD BUY 0.01

# ุชุญูู ูู:
- โ ุงูุตููุฉ ุธูุฑุช ูู "My Trades" ุฎูุงู 3 ุซูุงู
- โ ุงูุฑุตูุฏ ูู ูุชุบูุฑ (ูุฃู ุงูุตููุฉ ููุชูุญุฉ)
- โ PnL ูุชุญุฏุซ ุชููุงุฆูุงู
```

2. **ุงุฎุชุจุงุฑ setdaily:**
```bash
# ุญุฏุฏ ูุฏู ูููู
/setdaily YOUR_TG_ID 10 60

# ุชุญูู ูู:
- โ ูุง ุชุธูุฑ ุตููุฉ ูู "My Trades"
- โ ุงูุฑุตูุฏ ูุฒูุฏ ุชุฏุฑูุฌูุงู
- โ ุจุนุฏ 60 ุซุงููุฉุ ุงูุฑุตูุฏ ุฒุงุฏ ุจู $10
```

3. **ุงุฎุชุจุงุฑ ุงููุบุฉ:**
```bash
# ุงุถุบุท ุนูู ุฒุฑ ๐
# ุชุญูู ูู:
- โ ุธูุฑุช ูุงุฆูุฉ ุจุงููุบุงุช
- โ ุนูุฏ ุงุฎุชูุงุฑ ูุบุฉุ ุงูุชุบููุฑ ููุฑู
- โ ุงููุตูุต ุชุชุบูุฑ ูุจุงุดุฑุฉ
```

---

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

ุงููุดุฑูุน ุงูุขู:
- โ ูุนูู ุจุดูู ุณูุณ ูุณุฑูุน
- โ ุชุญุฏูุซุงุช ููุฑูุฉ ุจุฏูู ุฅุนุงุฏุฉ ุชุญููู
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ
- โ ูุตู ูุงุถุญ ุจูู ุงูุตููุงุช ูุงูุฃูุฏุงู
- โ ูุงุฌูุฉ ูุชุนุฏุฏุฉ ุงููุบุงุช ุงุญุชุฑุงููุฉ

---

ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ: Alex (MetaGPT Engineer)  
ุงูุชุงุฑูุฎ: 2025-12-03